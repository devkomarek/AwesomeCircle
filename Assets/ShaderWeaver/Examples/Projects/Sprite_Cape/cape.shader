//ShaderWeaverData{"shaderQueue":3000,"shaderQueueOffset":0,"shaderType":1,"shaderBlend":0,"excludeRoot":false,"version":1.0,"pixelPerUnit":100.0,"spriteRect":{"serializedVersion":"2","x":0.0,"y":0.0,"width":1.0,"height":1.0},"title":"cape","materialGUID":"8ab8233f5a84d784cbc186a98aa5857f","paramList":[],"nodes":[{"id":"8ff4d575_8d01_486b_8244_11b07c3dbf26","name":"ROOT","depth":1,"type":0,"parent":[],"children":["4cbf3139_fabf_4e10_82f0_8747bace948e"],"textureExGUID":"","textureGUID":"","spriteGUID":"a10f9adbca246f844945d54466baa329","spriteName":"cape2","rect":{"serializedVersion":"2","x":701.112548828125,"y":400.5086669921875,"width":100.0,"height":130.0},"effectData":{"t_startMove":{"x":0.0,"y":0.0},"r_angle":0.0,"s_scale":{"x":1.0,"y":1.0},"t_speed":{"x":0.0,"y":0.0},"r_speed":0.0,"s_speed":{"x":0.0,"y":0.0},"t_Param":"_TimeAll.y","r_Param":"_TimeAll.y","s_Param":"_TimeAll.y","pop_startValue":0.0,"pop_speed":0.0,"pop_Param":"1","pop_channel":3,"useLoop":false,"loopX":0,"gapX":0.0,"loopY":0,"gapY":0.0},"effectDataColor":{"color":{"r":1.0,"g":1.0,"b":1.0,"a":1.0},"op":0,"param":"1"},"effectDataUV":{"op":0,"param":"1","amountR":{"x":0.0,"y":0.0},"amountG":{"x":0.0,"y":0.0},"amountB":{"x":0.0,"y":0.0},"amountA":{"x":0.0,"y":0.0}},"maskChannel":0,"outputType":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"inputType":[0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3],"dirty":true,"remap":{"x":0.0,"y":0.05000000074505806},"layerMask":{"mask":0,"strs":[]}},{"id":"5baec97e_924f_42f5_9d2d_ac15be3a120c","name":"mask0","depth":1,"type":1,"parent":["4cbf3139_fabf_4e10_82f0_8747bace948e"],"children":["ce1837bd_5f68_4658_a4dc_3ac89295e8d7"],"textureExGUID":"","textureGUID":"82784c5a9de87ff4aa6a56fa9238dc08","spriteGUID":"","spriteName":"","rect":{"serializedVersion":"2","x":325.0,"y":396.0,"width":100.0,"height":130.0},"effectData":{"t_startMove":{"x":0.0,"y":0.0},"r_angle":0.0,"s_scale":{"x":0.5,"y":0.5},"t_speed":{"x":0.0,"y":0.0},"r_speed":0.0,"s_speed":{"x":0.0,"y":0.0},"t_Param":"_TimeAll.y","r_Param":"_TimeAll.y","s_Param":"_TimeAll.y","pop_startValue":0.0,"pop_speed":0.0,"pop_Param":"1","pop_channel":3,"useLoop":false,"loopX":0,"gapX":0.0,"loopY":0,"gapY":0.0},"effectDataColor":{"color":{"r":1.0,"g":1.0,"b":1.0,"a":1.0},"op":0,"param":"1"},"effectDataUV":{"op":0,"param":"1","amountR":{"x":0.0,"y":0.0},"amountG":{"x":0.0,"y":0.0},"amountB":{"x":0.0,"y":0.0},"amountA":{"x":0.0,"y":0.0}},"maskChannel":0,"outputType":[0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3],"inputType":[0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0,1,3],"dirty":false,"remap":{"x":0.0,"y":0.05000000074505806},"layerMask":{"mask":0,"strs":[]}},{"id":"4cbf3139_fabf_4e10_82f0_8747bace948e","name":"color4","depth":1,"type":3,"parent":["8ff4d575_8d01_486b_8244_11b07c3dbf26"],"children":["5baec97e_924f_42f5_9d2d_ac15be3a120c"],"textureExGUID":"","textureGUID":"ef907ec3ebdb98948872f83503f6d41d","spriteGUID":"","spriteName":"","rect":{"serializedVersion":"2","x":521.828125,"y":394.642333984375,"width":100.0,"height":130.0},"effectData":{"t_startMove":{"x":0.0,"y":0.0},"r_angle":0.0,"s_scale":{"x":1.0,"y":1.0},"t_speed":{"x":0.0,"y":0.0},"r_speed":0.0,"s_speed":{"x":0.0,"y":0.0},"t_Param":"_TimeAll.y","r_Param":"_TimeAll.y","s_Param":"_TimeAll.y","pop_startValue":0.0,"pop_speed":0.0,"pop_Param":"1","pop_channel":3,"useLoop":false,"loopX":0,"gapX":0.0,"loopY":0,"gapY":0.0},"effectDataColor":{"color":{"r":1.0,"g":1.0,"b":1.0,"a":1.0},"op":0,"param":"1"},"effectDataUV":{"op":0,"param":"1","amountR":{"x":0.0,"y":0.0},"amountG":{"x":0.0,"y":0.0},"amountB":{"x":0.0,"y":0.0},"amountA":{"x":0.0,"y":0.0}},"maskChannel":0,"outputType":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"inputType":[1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,0,1,3,0,1,3,0,1,3,0,1,3,0],"dirty":true,"remap":{"x":0.0,"y":0.05000000074505806},"layerMask":{"mask":0,"strs":[]}},{"id":"ce1837bd_5f68_4658_a4dc_3ac89295e8d7","name":"uv8","depth":1,"type":4,"parent":["5baec97e_924f_42f5_9d2d_ac15be3a120c"],"children":[],"textureExGUID":"","textureGUID":"38bc7518866cad94fb560d045d9a7597","spriteGUID":"","spriteName":"","rect":{"serializedVersion":"2","x":137.83349609375,"y":394.57177734375,"width":100.0,"height":130.0},"effectData":{"t_startMove":{"x":0.0,"y":0.0},"r_angle":0.0,"s_scale":{"x":1.0,"y":0.7397611141204834},"t_speed":{"x":0.0,"y":0.20000000298023225},"r_speed":0.0,"s_speed":{"x":0.0,"y":0.0},"t_Param":"_TimeAll.y","r_Param":"_TimeAll.y","s_Param":"_TimeAll.y","pop_startValue":0.0,"pop_speed":0.0,"pop_Param":"1","pop_channel":3,"useLoop":false,"loopX":0,"gapX":0.0,"loopY":0,"gapY":0.0},"effectDataColor":{"color":{"r":1.0,"g":1.0,"b":1.0,"a":1.0},"op":0,"param":"1"},"effectDataUV":{"op":0,"param":"0.2","amountR":{"x":-0.05114948749542236,"y":0.03320324420928955},"amountG":{"x":-0.03747761249542236,"y":0.11132824420928955},"amountB":{"x":0.0,"y":0.0},"amountA":{"x":0.0,"y":0.0}},"maskChannel":0,"outputType":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"inputType":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"dirty":true,"remap":{"x":0.0,"y":0.05000000074505806},"layerMask":{"mask":0,"strs":[]}}],"clipValue":0.0}
Shader "Shader Weaver/cape"{   
	Properties {   
		_Color ("Color", Color) = (1,1,1,1)
		_MainTex ("_MainTex", 2D) = "white" { }
		_capemask0_9792 ("_capemask0_9792", 2D) = "white" { }
		_cape_9658 ("_cape_9658", 2D) = "white" { }
		_capeUV_9748 ("_capeUV_9748", 2D) = "white" { }
		[MaterialToggle] PixelSnap ("Pixel snap", Float) = 0
	}   
	SubShader {   
		Tags {
			"Queue"="Transparent" 
			"IgnoreProjector"="True" 
			"RenderType"="Transparent" 
			"PreviewType"="Plane"
			"CanUseSpriteAtlas"="True"
		}
		pass {   
		Cull Off
		Lighting Off
		ZWrite Off
		Blend One OneMinusSrcAlpha
			CGPROGRAM  
			#pragma vertex vert   
			#pragma fragment frag   
			#pragma multi_compile _ PIXELSNAP_ON
			#include "UnityCG.cginc"   
			fixed4 _Color;
			float4 _TimeEditor;
			float4 _MainTex_ST;
			sampler2D _MainTex;   
			sampler2D _capemask0_9792;   
			sampler2D _cape_9658;   
			sampler2D _capeUV_9748;   
			sampler2D _AlphaTex;
			float _AlphaSplitEnabled;
			struct appdata_t {
				float4 vertex   : POSITION;
				float4 color    : COLOR;
				float2 texcoord : TEXCOORD0;
			};
			struct v2f {   
				float4  vertex : SV_POSITION;   
				fixed4 color    : COLOR;
				float2  uv_MainTex : TEXCOORD1;
				float2  uv_Other : TEXCOORD2;
			};   
			float2 UV_RotateAround(float2 center,float2 uv,float rad)
			{
				float2 fuv = uv - center;
				float2x2 ma;
				ma[0] = float2(cos(rad),sin(rad));
				ma[1] = float2(-sin(rad),cos(rad));
				fuv = mul(ma,fuv)+center;
				return fuv;
			}
			v2f vert (appdata_t IN) {
				v2f OUT;   
				float4 rect = float4(0,0,1,1);
				OUT.vertex = mul(UNITY_MATRIX_MVP,IN.vertex);   
				OUT.color = IN.color * _Color;
				OUT.uv_MainTex = TRANSFORM_TEX(IN.texcoord,_MainTex);
				OUT.uv_Other = float2((IN.texcoord.x - rect.x)/rect.z,(IN.texcoord.y - rect.y)/rect.w);
				OUT.uv_Other = TRANSFORM_TEX(OUT.uv_Other,_MainTex);
				#ifdef PIXELSNAP_ON
				OUT.vertex = UnityPixelSnap (OUT.vertex);
				#endif
				return OUT;   
			}   
			float4 frag (v2f i) : COLOR {
				float4 _TimeAll = _Time + _TimeEditor;
				float4 _TimeMod = _TimeAll%1;
				float4 color_capemask0_9792 = tex2D(_capemask0_9792,i.uv_Other);    
				float4 result = float4(0,0,0,0);


				//====================================
				//============ uv8 ============   
				float2  uv_uv8 = i.uv_Other;
				float2 center_uv8 = float2(0.5,0.5);    
				uv_uv8 = uv_uv8-center_uv8;    
				uv_uv8 = uv_uv8+fixed2(0,0);    
				uv_uv8 = uv_uv8+fixed2(0,-0.2)*(_TimeAll.y);    
				uv_uv8 = UV_RotateAround(fixed2(0,0),uv_uv8,0);    
				uv_uv8 = uv_uv8/fixed2(1,0.7397611);    
				float2 dir_uv8 = uv_uv8/length(uv_uv8);    
				uv_uv8 = uv_uv8-dir_uv8*fixed2(0,0)*(_TimeAll.y);    
				uv_uv8 = UV_RotateAround(fixed2(0,0),uv_uv8,0*(_TimeAll.y));    
				uv_uv8 = uv_uv8+center_uv8;    
				float4 color_uv8 = tex2D(_capeUV_9748,uv_uv8);    
				color_uv8 = 0 +0*(1) + color_uv8;    
				uv_uv8 = -(color_uv8.r*fixed2(-0.05114949,0.03320324) + color_uv8.g*fixed2(-0.03747761,0.1113282) + color_uv8.b*fixed2(0,0) +  color_uv8.a*fixed2(0,0));    


				//====================================
				//============ mask0 ============   


				//====================================
				//============ color4 ============   
				float2  uv_color4 = i.uv_Other;
				float2 center_color4 = float2(0.5,0.5);    
				uv_color4 = uv_color4-center_color4;    
				uv_color4 = uv_color4+fixed2(0,0);    
				uv_color4 = uv_color4+fixed2(0,0)*(_TimeAll.y);    
				uv_color4 = UV_RotateAround(fixed2(0,0),uv_color4,0);    
				uv_color4 = uv_color4/fixed2(1,1);    
				float2 dir_color4 = uv_color4/length(uv_color4);    
				uv_color4 = uv_color4-dir_color4*fixed2(0,0)*(_TimeAll.y);    
				uv_color4 = UV_RotateAround(fixed2(0,0),uv_color4,0*(_TimeAll.y));    
				uv_color4 = uv_color4+center_color4;    
				uv_color4 = uv_color4 + uv_uv8*1*(0.2)*color_capemask0_9792.r;
				float4 color_color4 = tex2D(_cape_9658,uv_color4);    
				color_color4 = 0 +0*(1) + color_color4;    
				color_color4 = color_color4*fixed4(1,1,1,1);    


				//====================================
				//============ ROOT ============   
				float2  uv_ROOT = i.uv_MainTex;
				float4 color_ROOT = tex2D(_MainTex,uv_ROOT);    
				result = lerp(result,float4(color_ROOT.rgb,1),clamp(color_ROOT.a*1,0,1));    
				result = lerp(result,float4(color_color4.rgb,1),clamp(color_color4.a*1*(1),0,1));    
				#if UNITY_TEXTURE_ALPHASPLIT_ALLOWED
				if (_AlphaSplitEnabled)
				result.a = tex2D (_AlphaTex, uv).r;
				#endif 
				result = result*i.color;
				result.rgb*= result.a;
				clip(result.a - 0);    
				return result;
			}  
			ENDCG
		}
	}
}
